# dotfiles / VCS
location ~ /\.(?!well-known) {
    access_log off;
    log_not_found off;
    return 404;
}

location ^~ /.git/ {
    access_log off;
    log_not_found off;
    return 404;
}

location = /.git {
    access_log off;
    log_not_found off;
    return 404;
}

# env files
location = /.env {
    access_log off;
    log_not_found off;
    return 404;
}
location ~* (^|/)\.env(\.|$) {
    access_log off;
    log_not_found off;
    return 404;
}

location ~* ^/(?:\.DS_Store|\.svn|\.hg|\.idea|\.vscode)(?:/|$) {
    access_log off;
    log_not_found off;
    return 404;
}

# common backups / dumps
location ~* \.(?:bak|old|swp|sql|zip|tar|gz|tgz)$ {
    access_log off;
    log_not_found off;
    return 404;
}

# private keys / certs
location ~* \.(?:key|pem|p12|pfx)$ {
    access_log off;
    log_not_found off;
    return 404;
}